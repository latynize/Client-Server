function checkLogin(){window.location.href="01_startpage.html"}function openPopup(){document.getElementById("popup-container").style.display="block",updateInputs()}function closePopup(){document.getElementById("popup-container").style.display="none",document.getElementById("error-message").style.display="none",document.getElementById("success-message").style.display="none",location.reload()}function updateInputs(){document.getElementById("error-message").style.display="none",document.getElementById("success-message").style.display="none";var e=document.getElementById("auswahl").value,t=document.getElementById("eingabefelder"),n=document.getElementById("buttons");t.innerHTML="",n.innerHTML="";var o=document.createElement("button");if(o.textContent="Schließen",o.className="btn text-truncate add-another-btn",o.style.color="black",o.onclick=closePopup,n.appendChild(o),"bearbeiten"===e)(a=document.createElement("input")).type="text",a.placeholder="ID",t.appendChild(a),(s=document.createElement("button")).textContent="Bearbeiten",s.style.color="black",s.className="btn text-truncate add-another-btn",s.onclick=applyEdit,n.appendChild(s);else if("löschen"===e){var a;(a=document.createElement("input")).type="text",a.placeholder="ID",t.appendChild(a),(s=document.createElement("button")).textContent="Löschen",s.style.color="black",s.className="btn text-truncate add-another-btn",s.onclick=applyDelete,n.appendChild(s)}else if("erstellen"===e){var s;["Vorname","Name","Freie FTE","Mail","Tel. Nr.","Beschäftigungsstart","Erfahrungsgrad ID","Typ ID","Adress ID"].forEach((function(e){var n=document.createElement("input");n.type="text",n.placeholder=e,t.appendChild(n)})),(s=document.createElement("button")).textContent="Erstellen",s.style.color="black",s.className="btn text-truncate add-another-btn",s.onclick=applyCreate,n.appendChild(s)}}async function applyEdit(){if(validateInputs()){var e=document.getElementById("eingabefelder").querySelector("input[type='text']").value,t=getInputsValues();console.log("Bearbeiten angewendet:",t);try{if(!(await fetch(`https://cioban.de/api/employee/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).ok)throw new Error("Bitte füllen Sie mindestens ein Eingabefeld aus.");console.log("Bearbeitung erfolgreich!"),displaySuccessMessage("Bearbeitung erfolgreich!")}catch(e){displayErrorMessage("Fehler beim bearbeiten.")}}else displayErrorMessage("Bitte füllen Sie das Eingabefeld aus.")}async function applyDelete(){if(validateInputs()){var e=document.getElementById("eingabefelder").querySelector("input[type='text']").value;console.log("Löschen angewendet:",e);try{if(!(await fetch(`https://cioban.de/api/employee/${e}`,{method:"DELETE"})).ok)throw new Error("Fehler beim Löschen des Mitarbeiters");console.log("Löschen erfolgreich!"),displaySuccessMessage("Löschen erfolgreich!")}catch(e){displayErrorMessage("Fehler beim löschen.")}}else displayErrorMessage("Bitte füllen Sie alle Eingabefelder aus.")}async function applyCreate(){if(validateInputs()){var e=getInputsValues();console.log("Erstellen angewendet:",e),console.log(JSON.stringify(e));try{if(!(await fetch("https://cioban.de/api/employee",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).ok)throw new Error("Fehler beim Erstellen des Mitarbeiters");console.log("Erstellung erfolgreich!"),displaySuccessMessage("Erstellung erfolgreich!")}catch(e){displayErrorMessage("Fehler beim erstellen.")}}else displayErrorMessage("Bitte füllen Sie alle Eingabefelder aus.")}function validateInputs(){for(var e=document.querySelectorAll('#eingabefelder input[type="text"]'),t=0;t<e.length;t++)if(""!==e[t].value.trim())return!0;return!1}function getInputsValues(){var e=document.querySelectorAll('#eingabefelder input[type="text"]'),t={first_name:"",last_name:"",free_fte:0,e_mail:"",phone_number:"",entry_date:"",experience_level_id:0,type_id:0,address_id:0};return e.forEach((function(e){var n=e.placeholder.toLowerCase(),o=e.value.trim();switch(n){case"vorname":t.first_name=o;break;case"name":t.last_name=o;break;case"freie fte":t.free_fte=parseFloat(o)||0;break;case"mail":t.e_mail=o;break;case"tel. nr.":t.phone_number=o;break;case"beschäftigungsstart":t.entry_date=o;break;case"erfahrungsgrad id":t.experience_level_id=parseInt(o)||0;break;case"typ id":t.type_id=parseInt(o)||0;break;case"adress id":t.address_id=parseInt(o)||0}})),t}function displayErrorMessage(e){var t=document.getElementById("error-message");t.textContent=e,t.style.display="block",setTimeout((function(){t.style.display="none"}),7e3)}function displaySuccessMessage(e){var t=document.getElementById("success-message");t.textContent=e,t.style.display="block",t.style.color="green",setTimeout((function(){t.style.display="none"}),7e3)}function openProjectPopup(){document.getElementById("popup-container-project").style.display="block",updateProjectInputs()}function closeProjectPopup(){document.getElementById("popup-container-project").style.display="none",document.getElementById("error-message-project").style.display="none"}function updateProjectInputs(){var e=document.getElementById("auswahl-project").value,t=document.getElementById("eingabefelder-project");if(t.innerHTML="","bearbeiten"===e||"löschen"===e){var n=document.createElement("input");n.type="text",n.placeholder="ID",t.appendChild(n)}else if("erstellen"===e){["Bezeichnung","Abteilung","Priorität","Projektmanager","Benötigte FTE","Aktuelle FTE","Startdatum","Enddatum","Team IDs"].forEach((function(e){var n=document.createElement("input");n.type="text",n.placeholder=e,t.appendChild(n)}))}}function applyProjectChanges(){var e=document.querySelectorAll('#eingabefelder-project input[type="text"]'),t=!0;if(e.forEach((function(e){""===e.value.trim()?(t=!1,e.classList.add("invalid")):e.classList.remove("invalid")})),t){document.getElementById("error-message-project").style.display="none";var n=[];e.forEach((function(e){n.push(e.value)})),console.log("Eingabefelder:",n.toString()),closePopup()}else document.getElementById("error-message-project").style.display="block",document.getElementById("error-message-project").textContent="Alle Eingabefelder müssen ausgefüllt sein!"}function openProjectEditPersonalPopup(){document.getElementById("popup-container-projectEditPersonal").style.display="block",document.getElementById("popupContent-project").style.display="none",updateProjectEditPersonalInputs()}function closeEditPersonalPopup(){document.getElementById("popup-container-projectEditPersonal").style.display="none",document.getElementById("popupContent-project").style.display="block",document.getElementById("error-message-project").style.display="none"}function updateProjectEditPersonalInputs(){var e=document.getElementById("auswahl-projectEditPersonal").value,t=document.getElementById("eingabefelder-projectEditPersonal");if(t.innerHTML="","anzeigen"===e)fetch("https://cioban.de/api/employee").then((e=>e.json())).then((e=>{console.log(e);var n="<table style='overflow:auto'><tr><th>ID</th><th>Vorname</th><th>Name</th><th>Freie FTE</th><th>Mail</th><th>Tel. Nummer</th><th>Beschäftigungsstart</th><th>Erfahrungsgrad</th><th>Typ</th></tr>";e.personal.forEach((e=>{n+="<tr>",n+="<td>"+e.employee_id+"</td>",n+="<td>"+e.first_name+"</td>",n+="<td>"+e.last_name+"</td>",n+="<td>"+e.free_fte+"</td>",n+="<td>"+e.e_mail+"</td>",n+="<td>"+e.phone_number+"</td>",n+="<td>"+e.entry_date+"</td>",n+="<td>"+e.exp_lvl_description+"</td>",n+="<td>"+e.type_name+"</td>",n+="</tr>"})),n+="</table>",t.innerHTML=n})).catch((e=>console.log(e)));else if("hinzufügen"===e){var n=document.createElement("input");n.type="text",n.placeholder="Projekt ID",t.appendChild(n);var o=document.createElement("input");o.type="text",o.placeholder="Mitarbeiter ID",t.appendChild(o)}else if("löschen"===e){var a=document.createElement("input");a.type="text",a.placeholder="ID",t.appendChild(a)}}function applyEditPersonalChanges(){var e=document.querySelectorAll('#eingabefelder-projectEditPersonal input[type="text"]'),t=!0;if(e.forEach((function(e){""===e.value.trim()?(t=!1,e.classList.add("invalid")):e.classList.remove("invalid")})),t){document.getElementById("error-message-project").style.display="none";var n=[];e.forEach((function(e){n.push(e.value)})),console.log("Eingabefelder:",n.toString()),closeEditPersonalPopup()}else document.getElementById("error-message-project").style.display="block",document.getElementById("error-message-project").textContent="Alle Eingabefelder müssen ausgefüllt sein!"}function submitData(){for(var e=document.getElementsByTagName("select"),t=[],n=0;n<e.length;n++){var o=e[n],a=o.value;a&&t.push({id:o.id,value:a})}for(var s=0;s<t.length;s++){var l=t[s];console.log("Dropdown ID: "+l.id+", Ausgewählter Wert: "+l.value)}}function clearData(){}document.addEventListener("DOMContentLoaded",(function(){for(var e=document.getElementById("personalTable"),t=document.getElementById("popupContainer"),n=document.getElementById("popupContent"),o=document.getElementById("rowData"),a=document.getElementById("closeBtn"),s=e.rows[0].cells.length,l=[],r=0;r<s;r++)l.push(e.rows[0].cells[r].innerHTML);n.style.padding="40px",n.style.borderRadius="20px",n.style.fontSize="16px",n.style.border="1px solid lightgrey",n.style.borderRadius="5px";var i=e.getElementsByTagName("tr");for(r=1;r<i.length;r++)i[r].onclick=function(){for(var e="",n=0;n<s;n++)e+=l[n]+": "+this.cells[n].innerHTML+"<br>";o.innerHTML=e,t.style.display="block"};a.onclick=function(){t.style.display="none"}})),document.addEventListener("DOMContentLoaded",(function(){for(var e=document.getElementById("projectTable"),t=document.getElementById("popupContainer-project"),n=document.getElementById("popupContent-project"),o=document.getElementById("rowData-project"),a=document.getElementById("closeBtn-project"),s=e.rows[0].cells.length,l=[],r=0;r<s;r++)l.push(e.rows[0].cells[r].innerHTML);n.style.padding="40px",n.style.borderRadius="20px",n.style.fontSize="16px",n.style.border="1px solid lightgrey",n.style.borderRadius="5px";var i=e.getElementsByTagName("tr");for(r=0;r<i.length;r++)i[r].onclick=function(){for(var e="",n=0;n<s;n++)e+=l[n]+": "+this.cells[n].innerHTML+"<br>";o.innerHTML=e,t.style.display="block"};a.onclick=function(){t.style.display="none"}})),$(document).ready((function(){$(".search-container #advanced-div").hide()})),$(".search-container .text-input").focusin((function(){$(this).siblings("span").animate({top:"-8px",left:"22px","font-size":"8px",color:"#000"},200),$(this).siblings("span").css({color:"rgb(173, 124, 46)"})})),$(".search-container .item-row-thumb").mouseenter((function(){$(this).siblings(".item-column-thumb-icon").animate({deg:-90},{duration:100,step:function(e){$(this).css({transform:"rotate("+e+"deg)"})}}).css({color:"#fff","background-color":"#F6C500"})})),$(".search-container .item-row-thumb").mouseleave((function(){$(".search-container .item-column-thumb-icon").animate({deg:0},{duration:100,step:function(e){$(this).css({transform:"rotate("+e+"deg)"})}}).css({color:"#F6C500","background-color":"#fff"})})),$(".search-container .text-input").focusout((function(){0===$(this).val().length?($(this).siblings("span").show(),$(this).siblings("span").animate({top:"4px",left:"45px","font-size":"12px"},200),$(this).siblings("span").css({color:"rgb(190, 190, 190)"})):$(this).siblings("span").hide()})),$(".search-container #advanced-btn").click((function(){$(".search-container #advanced-div").slideToggle("fast"),$(this).text((function(e,t){return"Hide"===t?"Advanced":"Hide"}))})),$(document).ready((function(){$(".alertcontainer .search-sidebar").hide()})),$(".alertcontainer .linkbell").click((function(){$(".alertcontainer .search-sidebar").slideToggle("fast")})),$(".alertcontainer .text-input").focusin((function(){$(this).siblings("span").animate({top:"-8px",left:"22px","font-size":"8px",color:"#000"},200),$(this).siblings("span").css({color:"rgb(173, 124, 46)"})})),$(".alertcontainer textarea").focusin((function(){$(this).siblings("span").animate({top:"-8px",left:"22px","font-size":"8px",color:"#000"},200),$(this).siblings("span").css({color:"rgb(173, 124, 46)"})})),$(".alertcontainer textarea").focusout((function(){0===$(this).val().length?($(this).siblings("span").show(),$(this).siblings("span").animate({top:"8px",left:"45px","font-size":"10px"},200),$(this).siblings("span").css({color:"rgb(190, 190, 190)"})):$(this).siblings("span").hide()})),$(".alertcontainer .item-row-thumb").mouseenter((function(){$(this).siblings(".item-column-thumb-icon").animate({deg:-90},{duration:100,step:function(e){$(this).css({transform:"rotate("+e+"deg)"})}}).css({color:"#fff","background-color":"#F6C500"})})),$(".alertcontainer .item-row-thumb").mouseleave((function(){$(".alertcontainer .item-column-thumb-icon").animate({deg:0},{duration:100,step:function(e){$(this).css({transform:"rotate("+e+"deg)"})}}).css({color:"#F6C500","background-color":"#fff"})})),$(".alertcontainer .text-input").focusout((function(){0===$(this).val().length?($(this).siblings("span").show(),$(this).siblings("span").animate({top:"8px",left:"45px","font-size":"10px"},200),$(this).siblings("span").css({color:"rgb(190, 190, 190)"})):$(this).siblings("span").hide()}));